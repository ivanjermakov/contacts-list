<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=300, initial-scale=1, maximum-scale=1, minimum-scale=1"/>

	<title>Contacts List</title>

	<!--awesome font-->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
	      integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">

	<link rel="stylesheet" type="text/css" href="css/popup/popup.css">
	<link rel="stylesheet" type="text/css" href="css/edit.css">
	<link rel="stylesheet" type="text/css" href="css/mail-template-popup.css">

	<!--mustache.js-->
	<script type="text/javascript"
	        src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.1.3/mustache.js"></script>

	<script type="text/javascript" src="js/client.js"></script>
	<script type="text/javascript" src="js/popup/popup.js"></script>
	<script type="text/javascript" src="js/popup/template-popup.js"></script>
</head>

<body>

<div class="header">
	<a class="home-link" href="index.html">
		<div class="layer">
			<div class="heading">Contacts List</div>
			<div class="text">Implementation of individual task for iTechArt Java course.</div>
		</div>
	</a>
	<div class="navigation-bar">
		<div class="left">
			<a href="/edit.html"><i class="fas fa-plus"></i></a>
			<a onclick="edit()"><i class="fas fa-pen"></i></a>
			<a onclick="remove()"><i class="fas fa-trash"></i></a>
		</div>
		<div class="right">
			<a onclick="openTemplate()"><i class="fas fa-mail-bulk"></i></a>
			<a href="/mail.html"><i class="fas fa-envelope"></i></a>
			<a href="/search.html"><i class="fas fa-search"></i></a>
		</div>
	</div>
</div>

<div class="content">
	<div id="contacts-wrapper">
		<!--CONTACTS HERE-->
	</div>
	<!--TODO: show 404 page on invalid page parameter-->
	<div id="page-nav">
		<div id="prev" onclick="loadPrevPage()"><i class="fas fa-chevron-left"></i></div>
		<div id="next" onclick="loadNextPage()"><i class="fas fa-chevron-right"></i></div>
	</div>
</div>

<div id="overlay"></div>
<div id="popup"></div>

<!--TEMPLATES-->
<script id="contact-template" type="text/template">

	<div class="contact" id="{{id}}">
		<input type="checkbox" class="selected">
		<div class="contact-text">
			<div class="name-wrapper"><a class="name" href="edit.html?id={{id}}"><span class="pre"><i
					class="fas fa-user"></i></span>
				{{name}} {{surname}} {{patronymic}}</a>
			</div>
			<div class="birth"><span class="pre"><i class="fas fa-birthday-cake"></i></span>{{birth}}</div>
			<div class="address"><span class="pre"><i class="fas fa-home"></i></span>{{locality}}</div>
			<div class="workplace"><span class="pre"><i class="fas fa-building"></i></span>{{workplace}}</div>
		</div>
	</div>

</script>

<script id="mail-template" type="text/template">
	<div id="template">
		<div class="popup-header">
			<div class="heading">Select mail template</div>
			<a onclick="closeTemplatePopup()"><i class="fas fa-times"></i></a>
		</div>
		<div class="popup-content">
			<select id="template-select" onchange="window.selectTemplate()">
				<option selected value>Select template</option>
			</select>
			<div class="submit">
				<div class="cancel" onclick="closeTemplatePopup()">Cancel</div>
				<div class="apply" onclick="sendTemplate()">Send</div>
			</div>
		</div>
	</div>
</script>

<script type="text/javascript" src="js/index.js"></script>

<script type="text/javascript">
	load();
</script>

</body>
</html>